{"version":3,"file":"index.mjs","sources":["../src/index.ts"],"sourcesContent":["export type StripCommentsOutput = {\n  name: string;\n  transform: (text: string) => { code: string; map: string | null };\n};\n\nexport default function stripComments(): StripCommentsOutput {\n  const all = /((?=\\/\\*)([\\s\\S]*?)\\*\\/)|((?=\\/\\/)([\\s\\S]*?)(?=\\n))/gmi;\n  return {\n    name: \"vite-plugin-strip-comments\",\n    transform(text) {\n      return {\n        // code: text.replace(/((?=\\/\\*)([\\s\\S]*?)\\*\\/)|((?=\\/\\/)([\\s\\S*?])\\n)/gm, \"\"), // working with all\n        // (^(?=\\/\\*)(?!(?!(legal|license))).*?\\*\\/$)|(^(?=\\/\\/)(?!(?=(legal|license))).*?\\n$)\n        // ^(?=\\/\\*|\\/\\/).*(?!legal|license).*(?=(\\*\\/|\\n.+))$\n        // code: text.replace(/((?=\\/\\*)(?!legal)([\\s\\S]*?)\\*\\/)|((?=\\/\\/)(?!legal)([\\s\\S])\\n)/g, \"\"),\n        // code: text.replace(/^(?=\\/\\*|\\/\\/).*(?!(legal|license)).*(?=(\\*\\/|\\n.+))$/g, \"\"),\n        code: text.replace(all, \"\"),\n        map: null,\n      };\n    },\n  };\n}\n"],"names":["stripComments","all","text"],"mappings":"AAKA,SAAwBA,IAAqC;AAC3D,QAAMC,IAAM;AACL,SAAA;AAAA,IACL,MAAM;AAAA,IACN,UAAUC,GAAM;AACP,aAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAML,MAAMA,EAAK,QAAQD,GAAK,EAAE;AAAA,QAC1B,KAAK;AAAA,MACP;AAAA,IAAA;AAAA,EAEJ;AACF;"}